<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <style>
        div.slide-right {
          width:100%;
          overflow:hidden;
        }
        div.slide-right p {
          animation: 10s slide-right;
        }
        
        @keyframes slide-right {
          from {
            margin-left: -100%;
            width: 300%; 
          }
        
          to {
            margin-left: 0%;
            width: 100%;
          }
        }
        </style>
        
        <div class="slide-right">
        <p>Everything is funny, as long as it's happening to somebody else.</p>
        </div>
        
</body>
</html>
document.addEventListener("DOMContentLoaded", () => {
  const options = {
      root: null, // use the viewport as the root
      rootMargin: '0px',
      threshold: 0.1 // trigger when 10% of the element is visible
  };

  const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
          if (entry.isIntersecting) {
              const element = entry.target;
              const animationClass = element.dataset.animationClass;

              if (animationClass) {
                  // Ensure the animation class is removed first
                  element.classList.remove(animationClass);
                  // Force reflow to reset the animation
                  void element.offsetWidth; 
                  // Add the animation class
                  element.classList.add(animationClass);
              }
          }
      });
  }, options);

  // Select elements to observe
  document.querySelectorAll('[data-animation-class]').forEach(element => {
      observer.observe(element);
  });
});